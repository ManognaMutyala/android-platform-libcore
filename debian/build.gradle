subprojects {
  apply plugin: 'java'
  apply plugin: 'maven'

  version = "android-$androidVersion"
  group = 'com.android'
  sourceCompatibility = 1.7
  targetCompatibility = 1.7

  task generatePom {
    outputs.files "${buildDir}/${project.name}.pom"
    assemble.dependsOn generatePom
    clean.doLast {
      delete "${buildDir}/${project.name}.pom"
    }
    doFirst {
      pom { project {} }.writeTo("${buildDir}/${project.name}.pom")
    }
  }
}

project(':luni') {
  dependencies {
    compile 'com.ibm.icu:icu4j:debian'
    compile 'kxml2:kxml2:debian'
    compile 'xpp3:xpp3:debian'
    compile project(':dex')
  }

  sourceSets.main.java {
    srcDir '../dalvik/src/main/java'
    srcDir '../libart/src/main/java'
    srcDir '../xml/src/main/java'
  }
}