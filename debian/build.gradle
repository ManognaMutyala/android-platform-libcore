subprojects {
  apply plugin: 'java'
  apply plugin: 'maven'

  version = "android-$androidVersion"
  group = 'com.android'
  sourceCompatibility = 1.7
  targetCompatibility = 1.7
  javadoc.options.links 'file:///usr/share/doc/default-jdk/api'

  task generatePom {
    outputs.files "${buildDir}/${project.name}.pom"
    assemble.dependsOn generatePom
    clean.doLast {
      delete "${buildDir}/${project.name}.pom"
    }
    doFirst {
      pom { project {} }.writeTo("${buildDir}/${project.name}.pom")
    }
  }
}