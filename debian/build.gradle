subprojects {
  apply plugin: 'java'
  apply plugin: 'maven'

  /* See the API Level defined in version_defaults.mk provided by
   * src:android-platform-build.
   */
  version = '23'
  group = 'com.android'

  repositories {
    maven { url 'file:///usr/share/maven-repo' }
  }

  if (name.equals('luni')) {
    sourceSets.main.java {
      srcDir '../dalvik/src/main/java'
      srcDir '../libart/src/main/java'
    }
    dependencies {
      compile 'xpp3:xpp3:debian'
      compile 'kxml2:kxml2:debian'
      compile 'com.ibm.icu:icu4j:56'
      compile project(':dex')
    }
  }
  
  javadoc {
    options {
      links 'file:///usr/share/doc/default-jdk-doc/api'
    }
  }

  task poms {
    pom {
      project {
        artifactId project.name
        version project.version
      }
    }.writeTo("../debian/${project.name}.pom")
  }
}